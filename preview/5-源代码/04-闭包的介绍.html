<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
	<script type="text/javascript">
		// 什么是闭包？
		// 字面意思： 
		// 闭：封闭
		// 包：包裹
		// 
		// 概念：从字面意思来看就是封闭和包裹，在函数内部声明的变量，在函数的外部访问不到
		// 因此，就说这个函数构成了一个闭包！

		// JavaScript所有的函数都能够形成一个闭包！

		// 计算机科学中对闭包的解释：
		// 在JavaScript中认为函数体以及函数所处的环境构成的一个综合体 叫做：闭包！
		// 
		// 怎么理解函数所处的环境：其实就是函数的作用域链！

		/*function fn() {
			var ab = 123;

			console.log(ab);

			function f() {
				console.log(ab);
			}
		}*/

		// 闭包有什么作用：
		// 对函数内部声明的变量起到了保护的作用！
		
		// 闭包是对函数作用域的应用！

		
		// 最常用的：闭包模型（在一个函数内部返回另外一个函数！）
		function fn() {
			var num = 123;

			// 函数f形成的闭包环境包含：函数自身 以及 函数fn的作用域 以及全局作用域
			// 1 函数在声明的时候，它的作用域链就定下来了！
			// 2 即便是，这个函数离开了 创建它的环境，也不例外！
			// function f() {
			// 	console.log(num);
			// }
			// f();

			// return f;
			
			return function() {
				console.log(num);
			};
		}
		
		var num = 456;
		var f1 = fn();
		f1();

		// 还可以这么理解闭包：
		// 可以把闭包想想成一个人，而这个人记住周围发生的一些事情！ 即便是这个人从一个地方
		// 换到另外一个地方，但是，这个人还是记得当时发生的事情！
	</script>
</body>
</html>