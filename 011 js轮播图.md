# 11 JS 轮播图

轮播图

---

### 简单轮播图
1. 简单轮播图与tab栏相似
2. 当选择到按钮时, 当前按钮高亮显示
3. 同时移动图片到当前按钮对应的图片
- 主要用到排他以及移动动画效果

### 轮播图左右焦点按钮
1. 给大盒子注册事件, 鼠标经过时显示左右按钮, 离开时隐藏左右按钮
2. 给左右按钮绑定点击事件, 点击后图片移动, 移动的距离与简单轮播图类似
3. 结合简单轮播图, 获取序号按钮的当前序号index, 左右按钮点击后根据当前的index来显示底部按钮的高亮
4. 限制左右按钮点击超出序号范围的响应
- 重点是给当前li添加index属性

### 无缝轮播图, 自动播放
1. **原理**: 复制第一张图到最后, 这样到最后一张图片显示的时候立即切换到第一张, 形成无缝连接
2. 使用动态克隆第一张图的li, 添加到图片ul列表里
3. 添加图片运动的定时器, 设定执行间隔
4. 判断图片是否运动到最后一张, 如果运动到最后一张, 则立即跳转到第一张的offsetLeft为0的位置, 这样才能和第2张图片形成无缝连接
- 重点是无缝的原理

### 完整的轮播图
功能: 同时包含底部按钮切换、左右两侧按钮切换以及无缝自动播放3个功能

1. 动态生成底部按钮：
1.1 根据图片的数量，添加同样数量的底部按钮
1.2 复制图片列表里第一张图片到列表最后
1.3 必须先生成按钮, 因为复制的图片是假图片, 仅用来过渡
2. 底部按钮注册鼠标经过事件, 让图片可以根据按钮的切换来动态切换对应的图片
3. 左右按钮绑定点击事件, 让图片可以左右动态移动
3.1 当移动到图片列表的最前端和最后一张时, 因为需要形成无缝连接的效果, 所以特殊处理最后一张图片和添加的假图片的连接效果
3.2 根据图片的序号, 让对应的底部按钮高亮显示
4. 添加定时器, 让轮播图自动播放, 因为上一步骤对右侧的按钮已经定义了可以一直向右移动, 所以定时器执行的其实就是右侧按钮的功能
5. 添加盒子的鼠标经过和离开事件, 让左右按钮显示/隐藏, 同时让定时器停止/启动
6. **重点: 解决不同步的问题** 定义2个全局变量, 当前图片序号pic, 底部按钮序号square, 让pic和square与当前图片的序号index相一致, 这个时候再根据两边的特殊情况来处理. 
 - 主要依靠全局变量和图片序列相一致来让3个效果同步进行, 并根据各自的特殊情况进行条件判断和跳转
 

Tags： black_horse
